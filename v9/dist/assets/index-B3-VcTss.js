const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./main-Dzsf0JKW.js","./main-8mhap8rK.css","./main-CfTYscpr.js","./audio-system-IwvVicxu.js","./settings-BNECchb4.js","./main-CyhQ6JS3.css","./main-BHCWEUc1.js","./main-BQBVB3cy.css","./main-HlwB5kdJ.js","./main-CarEfhSn.css","./main-DIdkSAhq.js","./main-CYEpo2ft.css","./main-DAOR2Lub.js","./main-BAnBF-0z.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();const y="modulepreload",_=function(l,e){return new URL(l,e).href},g={},h=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let w=function(s){return Promise.all(s.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),p=a?.nonce||a?.getAttribute("nonce");r=w(t.map(s=>{if(s=_(s,i),s in g)return;g[s]=!0;const u=s.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(i)for(let f=o.length-1;f>=0;f--){const m=o[f];if(m.href===s&&(!u||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${d}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":y,u||(c.as="script"),c.crossOrigin="",c.href=s,p&&c.setAttribute("nonce",p),document.head.appendChild(c),u)return new Promise((f,m)=>{c.addEventListener("load",f),c.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})}))}function n(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&n(a.reason);return e().catch(n)})};function E(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}class v{constructor(){this.currentMode="menu",this.currentController=null,this.routes=new Map,this.hashChangeHandler=()=>this.handleHashChange(),window.addEventListener("hashchange",this.hashChangeHandler)}destroy(){window.removeEventListener("hashchange",this.hashChangeHandler),this.currentController&&(this.currentController.destroy(),this.currentController=null),this.routes.clear(),this.currentMode="menu"}register(e,t){this.routes.set(e,t)}async start(){await this.handleHashChange()}async handleHashChange(){const e=window.location.hash.slice(1)||"menu";if(!this.routes.has(e)){window.location.hash="#menu";return}await this.switchMode(e)}async switchMode(e){this.currentController&&(this.currentController.destroy(),this.currentController=null);const t=document.getElementById("app");t&&(t.innerHTML=""),this.currentMode=e;const i=this.routes.get(e);if(i)try{this.currentController=await i()}catch(r){console.error(`Failed to load mode: ${e}`,r),this.showError(`モード「${e}」の読み込みに失敗しました`)}}showError(e){const t=document.getElementById("app");if(!t)return;const i=E(e);t.innerHTML=`
			<div class="error-container">
				<h2>エラー</h2>
				<p>${i}</p>
				<a href="#menu" class="btn">メニューに戻る</a>
			</div>
		`}getCurrentMode(){return this.currentMode}}class L{constructor(){this.router=new v,this.registerRoutes(),this.router.start()}registerRoutes(){this.router.register("menu",async()=>{const{MenuPage:e}=await h(async()=>{const{MenuPage:t}=await import("./main-Dzsf0JKW.js");return{MenuPage:t}},__vite__mapDeps([0,1]),import.meta.url);return new e}),this.router.register("vertical",async()=>{const{VerticalKeyTrainer:e}=await h(async()=>{const{VerticalKeyTrainer:t}=await import("./main-CfTYscpr.js");return{VerticalKeyTrainer:t}},__vite__mapDeps([2,3,4,5]),import.meta.url);return new e}),this.router.register("horizontal",async()=>{const{HorizontalKeyTrainer:e}=await h(async()=>{const{HorizontalKeyTrainer:t}=await import("./main-BHCWEUc1.js");return{HorizontalKeyTrainer:t}},__vite__mapDeps([6,3,4,7]),import.meta.url);return new e}),this.router.register("flashcard",async()=>{const{FlashcardTrainer:e}=await h(async()=>{const{FlashcardTrainer:t}=await import("./main-HlwB5kdJ.js");return{FlashcardTrainer:t}},__vite__mapDeps([8,3,9]),import.meta.url);return new e}),this.router.register("koch",async()=>{const{KochTrainer:e}=await h(async()=>{const{KochTrainer:t}=await import("./main-DIdkSAhq.js");return{KochTrainer:t}},__vite__mapDeps([10,3,11]),import.meta.url);return new e}),this.router.register("listening",async()=>{const{ListeningTrainer:e}=await h(async()=>{const{ListeningTrainer:t}=await import("./main-DAOR2Lub.js");return{ListeningTrainer:t}},__vite__mapDeps([12,3,13]),import.meta.url);return new e})}}document.addEventListener("DOMContentLoaded",()=>{new L});export{E as e};

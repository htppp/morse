# TypeScript学習教材 - ステップ計画

## 全体構成

モールス信号練習アプリケーションを0から構築することで、TypeScriptとモダンなWeb開発を学習します。

---

## Step 01: 環境構築とHello World

### 学習目標
- Node.js/npmの基本
- TypeScriptプロジェクトの初期化
- Viteの基本設定
- 最初のTypeScriptファイル実行

### 実装内容
- `npm init -y`でpackage.json作成
- TypeScript, Viteのインストール
- tsconfig.jsonの基本設定
- index.html, main.tsの作成
- "Hello, Morse!"を表示

### 学習ポイント
- `npm install`コマンド
- `package.json`の役割
- `tsconfig.json`の基本オプション
- Viteの開発サーバー起動(`npm run dev`)

---

## Step 02: Viteの理解とホットリロード

### 学習目標
- Viteの仕組みを理解
- ホットリロード(HMR)の体験
- 開発サーバーの設定
- ビルドの基本

### 実装内容
- vite.config.tsの作成
- 開発サーバーのポート設定
- CSSファイルの追加とHMR確認
- `npm run build`でビルド実行
- `npm run preview`でプレビュー

### 学習ポイント
- Viteの高速な理由(ESモジュール、esbuild)
- HMR(Hot Module Replacement)の仕組み
- `vite.config.ts`の基本構成
- 開発ビルドと本番ビルドの違い
- `dist/`ディレクトリの確認

---

## Step 03: 基本的なUI構築

### 学習目標
- HTMLとTypeScriptの連携
- DOM操作の基本
- CSSの適用
- タブ切り替えUI

### 実装内容
- 3つのタブ(縦振り/横振り/文字列変換)
- タブ切り替え機能
- 基本的なレイアウト
- 出力表示エリア

### 学習ポイント
- `document.querySelector()`
- イベントリスナーの登録
- クラスの追加/削除
- CSSとの連携

---

## Step 04: TypeScriptの型定義とモジュール化

### 学習目標
- 型定義の基本
- インターフェースの使用
- ES6モジュール
- クラスの基礎

### 実装内容
- Settings型の定義
- Settingsクラスの作成
- モジュールのimport/export
- 基本的な設定値の管理

### 学習ポイント
- `interface`と`type`の違い
- `class`の基本構文
- `export`/`import`
- `private`/`public`修飾子

---

## Step 05: Web Audio APIの基礎

### 学習目標
- Web Audio APIの基本概念
- AudioContextの使用
- 簡単な音の生成
- ボタンクリックで音を鳴らす

### 実装内容
- AudioSystemクラスの作成
- Oscillatorによる正弦波生成
- Gainノードで音量制御
- ボタンクリックで「ピー」音を鳴らす

### 学習ポイント
- `AudioContext`の初期化
- `OscillatorNode`の使い方
- `GainNode`による音量制御
- オーディオグラフの接続

---

## Step 06: モールス符号の定義と変換

### 学習目標
- データ構造の設計
- Mapの使用
- 文字列処理
- アルゴリズムの実装

### 実装内容
- MorseCodeクラスの作成
- 欧文モールス符号表の定義
- 文字→モールス符号変換
- モールス符号→文字変換

### 学習ポイント
- `Map<K, V>`の使い方
- 文字列の分割/結合
- エラーハンドリング
- 双方向変換の実装

---

## Step 07: 文字列変換モードの実装

### 学習目標
- ユーザー入力の処理
- 非同期処理の基礎
- Web Audio APIの応用
- 時間制御

### 実装内容
- テキスト入力欄の追加
- 文字列→モールス符号変換
- モールス信号の音声再生
- dit/dashの時間計算

### 学習ポイント
- `setTimeout`による時間制御
- `Promise`と`async/await`
- AudioContextの時間管理
- 再生/停止制御

---

## Step 08: 縦振り電鍵の実装

### 学習目標
- キーボードイベント処理
- 時間計測
- 状態管理
- リアルタイム処理

### 実装内容
- StraightKeyクラスの作成
- キーボードイベントのハンドリング
- 押下時間の計測
- dit/dashの自動判定
- リアルタイムデコード

### 学習ポイント
- `keydown`/`keyup`イベント
- `performance.now()`による時間計測
- 状態フラグの管理
- デバウンス処理

---

## Step 09: 横振り電鍵の実装 (基礎)

### 学習目標
- 複雑な状態管理
- 複数キー入力の処理
- タイミング制御
- 自動送信アルゴリズム

### 実装内容
- PaddleKeyクラスの作成
- 左右パドルの同時検出
- 基本的な交互送信
- スクウィーズの検出

### 学習ポイント
- 複数キーの同時押し検出
- 状態遷移の設計
- キューイング処理
- タイミングの同期

---

## Step 10: 横振り電鍵の実装 (Iambic A/B)

### 学習目標
- 高度なアルゴリズム
- エッジケースの処理
- パフォーマンス最適化

### 実装内容
- Iambic Aモードの実装
- Iambic Bモードの実装
- スクウィーズ最適化
- 取りこぼし防止ロジック

### 学習ポイント
- 複雑な状態管理パターン
- リクエストカウント方式
- フォース送信メカニズム
- 競合状態の回避

---

## Step 11: 設定機能の実装

### 学習目標
- モーダルダイアログ
- フォーム処理
- LocalStorageの使用
- データの永続化

### 実装内容
- 設定モーダルUI
- 音量/周波数/WPMの調整
- キー割り当て変更
- LocalStorageへの保存/読み込み

### 学習ポイント
- モーダルの開閉制御
- `input`イベントの処理
- `localStorage` API
- JSONシリアライゼーション

---

## Step 12: UIの改善

### 学習目標
- ユーザビリティ向上
- レスポンシブ対応
- アクセシビリティ
- 視覚的フィードバック

### 実装内容
- トグルスイッチの実装
- スクウィーズインジケータ
- モバイル対応
- キーボードショートカット

### 学習ポイント
- CSS Gridレイアウト
- タッチイベント処理
- `user-select: none`
- アニメーション効果

---

## Step 13: 受理ログとお気に入り

### 学習目標
- リスト管理
- CRUD操作
- データの永続化
- フィルタリング

### 実装内容
- 受理ログの表示
- お気に入り機能
- ログのクリア
- LocalStorageへの保存

### 学習ポイント
- 配列操作メソッド
- DOM要素の動的生成
- イベント委譲
- データの同期

---

## Step 14: 音声システムの最適化

### 学習目標
- Web Audio APIの深い理解
- エンベロープ制御
- クリックノイズ対策
- 音質の改善

### 実装内容
- BiquadFilterの追加
- DynamicsCompressorの追加
- エンベロープの最適化
- モード別の音量調整

### 学習ポイント
- フィルターの設計
- コンプレッサーの効果
- `linearRampToValueAtTime`
- クリックレス再生

---

## Step 15: ビルドと最適化

### 学習目標
- プロダクションビルド
- 単一ファイル化
- パフォーマンス最適化
- デバッグ手法

### 実装内容
- vite-plugin-singlefileの導入
- ビルド設定の最適化
- ファイルサイズの削減
- デバッグ用コンソール出力の削除

### 学習ポイント
- Viteのビルドオプション
- コード分割とバンドリング
- Tree shaking
- 本番環境向け設定

---

## Step 16: テストとドキュメント

### 学習目標
- テストの基礎
- ドキュメンテーション
- コードレビュー
- リファクタリング

### 実装内容
- 単体テストの作成
- README.mdの充実
- コメントの追加
- コードの整理

### 学習ポイント
- テスト駆動開発の考え方
- ドキュメントの重要性
- 保守性の高いコード
- ベストプラクティス

---

## 推奨学習時間

- Step 01-04: 各1-2時間 (基礎固め)
- Step 05-07: 各2-3時間 (コア機能)
- Step 08-10: 各3-4時間 (高度な実装)
- Step 11-13: 各2-3時間 (UI/UX)
- Step 14-16: 各2-3時間 (最適化・完成)

**総学習時間**: 約45-65時間

---

## 学習の進め方

1. **各ステップのREADME.mdを熟読**
   - 学習目標を確認
   - 実装内容を理解

2. **サンプルコードを写経**
   - 手を動かして理解
   - コメントを読む

3. **課題に取り組む**
   - 自分で実装してみる
   - エラーを解決する

4. **動作確認とデバッグ**
   - ブラウザで動作確認
   - DevToolsで検証

5. **次のステップへ**
   - 理解できたら次へ
   - 不明点は戻って復習
